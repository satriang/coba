<!DOCTYPE html>
<html>
    <head>
        <title>Validasi</title>
    </head>
    <body>
        <form action="input.php" method="post">
           <input type="text" id="email" placeholder="Email"/>
            <input type="password" id="pw1" placeholder="Password"/>
            <input type="password" id="pw2" placeholder="Konfirmasi Password"/>
            <input type="submit" value="Cek">
        </form>

        <script type="text/javascript">
            window.onload = function () {
                document.getElementById("email").onchange = validateEmail;
                document.getElementById("pw1").onchange = validatePassword;
                document.getElementById("pw2").onchange = validatePassword;
            }
            function validatePassword(){
                var pass2=document.getElementById("pw2").value;
                var pass1=document.getElementById("pw1").value;
                if(pass1!=pass2)
                    document.getElementById("pw2").setCustomValidity("Passwords Tidak Sama, Coba Lagi");
                else
                    document.getElementById("pw2").setCustomValidity('');
            }
            function validateEmail() {
              	var rs = document.getElementById("email").value;
              	var atps=rs.indexOf("@");
              	var dots=rs.lastIndexOf(".");
              	if (atps<1 || dots<atps+2 || dots+2>=rs.length) {
              		//alert("Alamat email tidak valid.");
                  document.getElementById("email").setCustomValidity("Alamat Email Tidak valid")
              		return false;
              	} else {
              		//alert("Alamat email valid.");
                  document.getElementById("email").setCustomValidity('');
              	}
              }
        </script>
    </body>
</html>
